---
import EnlargeableImageComponent from './EnlargeableImageComponent.jsx'
/**
 * src must be an imported image object, not a string path.
 * Example usage:
 * import franceImg from './images/France.png';
 * import EnlargeableImage from '../../../components/EnlargeableImage.astro';
 * <EnlargeableImage src={franceImg} alt="France Wine Regions" client:load />
 *
 * The client:load directive is required for the modal to work.
 */
const {
  src, // must be an imported image object
  alt = '',
  class: className = '',
  width = 600,
  height = 400,
  modalWidth = 1200,
  modalHeight = 800,
} = Astro.props
---

<style>
  .enlargeable-img {
    cursor: pointer;
    transition: box-shadow 0.2s;
  }
  .enlargeable-img:hover {
    box-shadow: 0 0 0 2px #888;
  }
  .enlarge-modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
  }
  .enlarge-modal img {
    max-width: 90vw;
    max-height: 90vh;
    border-radius: 8px;
    box-shadow: 0 2px 16px rgba(0, 0, 0, 0.5);
  }
  .enlarge-modal-close {
    position: absolute;
    top: 2rem;
    right: 2rem;
    font-size: 2rem;
    color: #fff;
    cursor: pointer;
    background: none;
    border: none;
  }
</style>

<EnlargeableImageComponent
  src={src}
  alt={alt}
  className={className}
  width={width}
  height={height}
  modalWidth={modalWidth}
  modalHeight={modalHeight}
  client:load
/>
